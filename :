package main

import (
	"encoding/json"
	"net/http"
	
)


func GetUsers(w http.ResponseWriter,_ *http.Request) {
  users := getUsers()
  users = users[0:len(users)-1]
  json.NewEncoder(w).Encode(users)
    
}

func GetUser(w http.ResponseWriter,_ *http.Request){
  w.Write([]byte("Hi"))
}

func CreateUser(w http.ResponseWriter,r *http.Request){
  var user User
  json.NewDecoder(r.Body).Decode(&user)
  if err := SetUser(user); err!= nil {
    w.WriteHeader(http.StatusBadRequest)
    w.Write([]byte(err.Error()))
  }
  w.WriteHeader(http.StatusCreated)
  w.Write([]byte("user added"))
}


func UpdateUser(w http.ResponseWriter,_ *http.Request){
  w.Write([]byte("Hi"))
}


func DeleteUser(w http.ResponseWriter,_ *http.Request){ 
  w.Write([]byte("Hi"))
}
